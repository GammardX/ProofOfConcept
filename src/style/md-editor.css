:root {
    /* --- 1. BASI --- */
    --bg-white: #ffffff;
    --bg-gray-light: #f3f4f6;
    --text-main: #1f2937;
    --text-muted: #6b7280;
    --border-std: #e5e7eb;

    /* --- 2. COLORE PRIMARIO --- */
    --color-primary: #2563eb;
    --bg-primary-fade: #eff6ff;
    --bg-selection: #bfdbfe;

    /* --- 3. SINTASSI MARKDOWN --- */
    --syntax-purple: #7c3aed;
    --syntax-green: #16a34a;
    --syntax-orange: #ea580c;
    --syntax-red: #dc2626;
    
    /* --- 4. SINTASSI LINGUAGGI (Colori condivisi Editor & Preview) --- */
    --code-keyword: #569cd6;    /* Blu chiaro (VS Code Dark style per sfondo scuro) */
    --code-atom: #569cd6;       /* Booleani */
    --code-number: #b5cea8;     /* Numeri (Verde chiaro) */
    --code-def: #dcdcaa;        /* Funzioni (Giallo) */
    --code-string: #ce9178;     /* Stringhe (Arancio/Rosso) */
    --code-comment: #6a9955;    /* Commenti (Verde scuro) */
    --code-text: #d4d4d4;       /* Testo base codice */

    /* --- 5. BLOCCHI CODICE PREVIEW --- */
    --bg-dark: #1e1e1e;         /* Sfondo VS Code */
}

/* =========================================
   1. STILE BASE EDITOR (SINISTRA)
   ========================================= */

/* Contenitore principale dell'editor (dove scrivi) */
.CodeMirror {
    font-family: 'Fira Code', 'Consolas', monospace !important;
    font-size: 14px !important;
    line-height: 1.6;
    color: var(--text-main);           
    background-color: var(--bg-white); 
}

/* Padding interno del foglio di scrittura */
.CodeMirror-lines { 
    padding: 30px !important; 
}

/* Cursore lampeggiante */
.CodeMirror-cursor { 
    border-left: 2px solid var(--text-main) !important; 
}

/* Testo selezionato con il mouse */
.CodeMirror-selected { 
    background-color: var(--bg-selection) !important; 
}

/* Evidenziazione della riga corrente */
.CodeMirror-activeline-background { 
    background: var(--bg-primary-fade) !important; 
}

/* --- SINTASSI EDITOR (CodeMirror) --- */

/* Titoli Generici (il colore degli hashtag #) */
.cm-header { 
    color: var(--color-primary); 
    font-weight: bold; 
}

/* Titolo H1 (#) - Grandezza */
.cm-header-1 { 
    font-size: 1.8rem; 
    line-height: 2rem; 
}

/* Titolo H2 (##) - Grandezza */
.cm-header-2 { 
    font-size: 1.5rem; 
}

/* Titolo H3 (###) - Grandezza */
.cm-header-3 { 
    font-size: 1.2rem; 
}

/* Grassetto (**testo**) */
.cm-strong { 
    color: var(--syntax-purple); 
    font-weight: 700 !important; 
}

/* Corsivo (*testo*) */
.cm-em { 
    color: var(--syntax-green); 
    font-style: italic; 
}

/* Citazioni (> testo) */
.cm-quote { 
    color: var(--text-muted); 
    font-style: italic; 
    background: var(--bg-gray-light); 
}

/* Liste, Numeri elenco e Separatori Tabelle */
.cm-variable-2, 
.cm-variable-3, 
.cm-table-sep, 
.cm-formatting-list { 
    color: var(--syntax-orange) !important; 
    font-weight: bold; 
}

/* Link Testuale [Testo] */
.cm-link { 
    color: var(--color-primary); 
    text-decoration: none; 
    font-weight: 600; 
}

/* Link URL (http://...) */
.cm-url, 
.cm-string { 
    color: var(--text-muted); 
    text-decoration: underline; 
}

/* Codice in linea (`code`) */
.cm-comment { 
    color: var(--syntax-red) !important; 
    background-color: rgba(0,0,0,0.05); 
    border-radius: 3px; 
    font-family: monospace; 
    padding: 0 4px; 
}

/* Caratteri di formattazione (*, #, >) - Resi grigi */
.cm-formatting { 
    color: #d1d5db !important; 
    font-weight: normal !important; 
}

/* Eccezione: Il simbolo # dei titoli rimane blu */
.cm-formatting-header { 
    color: var(--color-primary) !important; 
}

/* --- REGOLE SPECIALI EDITOR PER LINGUAGGI (Se importati) --- */

/* Parole chiave (function, return, if) */
.cm-keyword { 
    color: #0000ff !important; 
    font-weight: bold; 
}

/* Definizioni (nomi funzioni/variabili) */
.cm-def { 
    color: #795e26 !important; 
}

/* Stringhe di codice */
.cm-string { 
    color: #a31515 !important; 
}

/* Numeri nel codice */
.cm-number { 
    color: #098658 !important; 
}

/* =========================================
   2. STILE PREVIEW (DESTRA)
   ========================================= */

/* Contenitore principale Anteprima */
.editor-preview-side {
    font-family: 'Inter', sans-serif !important;
    font-size: 16px !important;
    line-height: 1.7;
    color: var(--text-main);
    background-color: #fafafa;
    padding: 30px !important;
}

/* Titolo H1 Anteprima */
.editor-preview-side h1 { 
    font-size: 2.5rem; 
    font-weight: 800; 
    border-bottom: 2px solid var(--border-std); 
    padding-bottom: 0.5rem; 
    margin: 1rem 0 1.5rem 0; 
}

/* Titolo H2 Anteprima */
.editor-preview-side h2 { 
    font-size: 2rem; 
    font-weight: 700; 
    margin: 2rem 0 1rem 0; 
}

/* Titolo H3 Anteprima */
.editor-preview-side h3 { 
    font-size: 1.5rem; 
    font-weight: 600; 
}

/* Citazioni Anteprima */
.editor-preview-side blockquote { 
    border-left: 4px solid var(--color-primary); 
    background-color: var(--bg-primary-fade); 
    color: var(--color-primary); 
    padding: 1rem; 
    margin: 1.5rem 0; 
}

/* Immagini Anteprima */
.editor-preview-side img { 
    max-width: 100%; 
    border-radius: 8px; 
    box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); 
}

/* Tabelle Anteprima */
.editor-preview-side table { 
    width: 100%; 
    border-collapse: collapse; 
    margin: 1.5rem 0; 
}

/* Celle e Intestazioni Tabelle */
.editor-preview-side th, 
.editor-preview-side td { 
    border: 1px solid var(--border-std); 
    padding: 0.75rem; 
    text-align: left; 
}

/* Sfondo Intestazione Tabella */
.editor-preview-side th { 
    background-color: var(--bg-gray-light); 
    font-weight: 600; 
}


/* =========================================
   6. HIGHLIGHT.JS (PREVIEW) - COLORAZIONE CODICE
   (Gestisce i blocchi ```js ``` a destra)
   ========================================= */

/* Contenitore del Blocco Codice (Sfondo Scuro) */
.editor-preview-side pre {
    background: var(--bg-dark);
    color: var(--code-text);
    padding: 1rem;
    border-radius: 8px;
    overflow-x: auto;
}

/* Reset del font dentro il blocco */
.editor-preview-side pre code {
    background: transparent;
    padding: 0;
    color: inherit;
    font-family: 'Fira Code', monospace;
}

/* Keywords (SELECT, FROM, function, if) */
.hljs-keyword, 
.hljs-selector-tag, 
.hljs-title, 
.hljs-section, 
.hljs-doctag, 
.hljs-name, 
.hljs-strong {
    color: var(--code-keyword);
    font-weight: bold;
}

/* Stringhe ("testo", 'ciao') */
.hljs-string, 
.hljs-title.class_, 
.hljs-type, 
.hljs-tag, 
.hljs-attr {
    color: var(--code-string);
}

/* Commenti (// commento) */
.hljs-comment, 
.hljs-quote {
    color: var(--code-comment);
    font-style: italic;
}

/* Numeri e Costanti (123, true, null) */
.hljs-number, 
.hljs-literal, 
.hljs-variable, 
.hljs-template-variable, 
.hljs-tag .hljs-attr {
    color: var(--code-number);
}

/* Nomi di Funzioni e Parametri */
.hljs-function, 
.hljs-title, 
.hljs-params {
    color: var(--code-def);
}